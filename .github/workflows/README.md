# VXCore GitHub å·¥ä½œæµè¯´æ˜

æœ¬ç›®å½•åŒ…å«äº† VXCore é¡¹ç›®çš„æ‰€æœ‰ GitHub Actions å·¥ä½œæµé…ç½®ï¼Œç”¨äºè‡ªåŠ¨åŒ–æ„å»ºã€æµ‹è¯•ã€ä»£ç è´¨é‡æ£€æŸ¥å’Œå‘å¸ƒã€‚

## ğŸ“‹ å·¥ä½œæµæ¦‚è§ˆ

### 1. CI/CD ä¸»æµç¨‹ (`ci.yml`)

**è§¦å‘æ¡ä»¶**ï¼š
- Push åˆ° `main` æˆ– `develop` åˆ†æ”¯
- Pull Request åˆ° `main` æˆ– `develop` åˆ†æ”¯
- æ¯å¤©å‡Œæ™¨2ç‚¹è‡ªåŠ¨è¿è¡Œæ€§èƒ½æµ‹è¯•

**ä¸»è¦åŠŸèƒ½**ï¼š
- ä»£ç è´¨é‡æ£€æŸ¥
- å•å…ƒæµ‹è¯•ï¼ˆæ”¯æŒ Java 17 å’Œ 21ï¼‰
- é›†æˆæµ‹è¯•ï¼ˆæ”¯æŒ H2ã€MySQLã€PostgreSQLï¼‰
- æ€§èƒ½æµ‹è¯•
- æ„å»ºå’Œæ‰“åŒ…
- è‡ªåŠ¨å‘å¸ƒ

**æµ‹è¯•çŸ©é˜µ**ï¼š
- Java ç‰ˆæœ¬ï¼š17, 21
- æ•°æ®åº“ï¼šH2, MySQL, PostgreSQL
- æ¨¡å—ï¼šcore, core-database, core-generator, core-example

### 2. æ€§èƒ½æµ‹è¯• (`performance.yml`)

**è§¦å‘æ¡ä»¶**ï¼š
- æ¯å¤©å‡Œæ™¨3ç‚¹è‡ªåŠ¨è¿è¡Œ
- æ‰‹åŠ¨è§¦å‘ï¼ˆæ”¯æŒé€‰æ‹©æµ‹è¯•ç±»å‹ï¼‰

**æµ‹è¯•ç±»å‹**ï¼š
- å•å…ƒæ€§èƒ½æµ‹è¯•
- é›†æˆæ€§èƒ½æµ‹è¯•
- å‹åŠ›æµ‹è¯•
- å†…å­˜æµ‹è¯•
- åŸºå‡†æµ‹è¯•

**é…ç½®é€‰é¡¹**ï¼š
- æµ‹è¯•ç±»å‹ï¼šall, unit, integration, stress, memory
- Java ç‰ˆæœ¬ï¼š17, 21

### 3. ä»£ç è´¨é‡æ£€æŸ¥ (`code-quality.yml`)

**è§¦å‘æ¡ä»¶**ï¼š
- Push åˆ° `main` æˆ– `develop` åˆ†æ”¯
- Pull Request åˆ° `main` æˆ– `develop` åˆ†æ”¯
- æ¯å‘¨ä¸€å‡Œæ™¨1ç‚¹è‡ªåŠ¨è¿è¡Œ

**æ£€æŸ¥é¡¹ç›®**ï¼š
- ä»£ç æ ¼å¼æ£€æŸ¥ï¼ˆSpotlessï¼‰
- é™æ€ä»£ç åˆ†æï¼ˆSpotBugs, PMD, Checkstyleï¼‰
- ä¾èµ–å®‰å…¨æ£€æŸ¥ï¼ˆOWASPï¼‰
- ä»£ç è¦†ç›–ç‡æ£€æŸ¥ï¼ˆJaCoCoï¼‰
- ä»£ç é‡å¤æ£€æŸ¥ï¼ˆCPDï¼‰

### 4. å‘å¸ƒæµç¨‹ (`release.yml`)

**è§¦å‘æ¡ä»¶**ï¼š
- æ¨é€æ ‡ç­¾ï¼ˆæ ¼å¼ï¼š`v*`ï¼‰
- æ‰‹åŠ¨è§¦å‘

**å‘å¸ƒæ­¥éª¤**ï¼š
- æ„å»ºå’Œæµ‹è¯•
- å‘å¸ƒåˆ° Maven Central
- åˆ›å»º GitHub Release
- å‘å¸ƒåˆ° Docker Hub
- å‘é€é€šçŸ¥

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### è¿è¡Œæ‰€æœ‰æµ‹è¯•

```bash
# æ¨é€ä»£ç åˆ° main åˆ†æ”¯
git push origin main

# æˆ–åˆ›å»º Pull Request
gh pr create --title "Feature: æ–°åŠŸèƒ½" --body "æè¿°"
```

### æ‰‹åŠ¨è§¦å‘æ€§èƒ½æµ‹è¯•

1. è¿›å…¥ GitHub Actions é¡µé¢
2. é€‰æ‹© "Performance Tests" å·¥ä½œæµ
3. ç‚¹å‡» "Run workflow"
4. é€‰æ‹©æµ‹è¯•ç±»å‹å’Œ Java ç‰ˆæœ¬

### å‘å¸ƒæ–°ç‰ˆæœ¬

```bash
# åˆ›å»ºå¹¶æ¨é€æ ‡ç­¾
git tag -a v1.0.0 -m "Release version 1.0.0"
git push origin v1.0.0

# æˆ–ä½¿ç”¨ GitHub CLI
gh release create v1.0.0 --title "VXCore v1.0.0" --notes "å‘å¸ƒè¯´æ˜"
```

## ğŸ“Š æµ‹è¯•æŠ¥å‘Š

### æŸ¥çœ‹æµ‹è¯•ç»“æœ

1. è¿›å…¥ GitHub Actions é¡µé¢
2. é€‰æ‹©å¯¹åº”çš„å·¥ä½œæµè¿è¡Œ
3. æŸ¥çœ‹ "Artifacts" éƒ¨åˆ†ä¸‹è½½æµ‹è¯•æŠ¥å‘Š

### æµ‹è¯•æŠ¥å‘Šç±»å‹

- **å•å…ƒæµ‹è¯•æŠ¥å‘Š**ï¼š`test-reports-{module}-java-{version}`
- **é›†æˆæµ‹è¯•æŠ¥å‘Š**ï¼š`integration-test-reports-{database}-java-{version}`
- **æ€§èƒ½æµ‹è¯•æŠ¥å‘Š**ï¼š`performance-test-reports`
- **ä»£ç è´¨é‡æŠ¥å‘Š**ï¼š`quality-summary-report`
- **è¦†ç›–ç‡æŠ¥å‘Š**ï¼š`coverage-reports`

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

| å˜é‡å | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|--------|
| `CI` | CI ç¯å¢ƒæ ‡è¯† | `true` |
| `DB_TYPE` | æ•°æ®åº“ç±»å‹ | `h2` |
| `MAVEN_OPTS` | Maven é€‰é¡¹ | `-Xmx2048m -XX:+UseG1GC` |

### å¯†é’¥é…ç½®

éœ€è¦åœ¨ GitHub ä»“åº“è®¾ç½®ä¸­é…ç½®ä»¥ä¸‹å¯†é’¥ï¼š

| å¯†é’¥å | è¯´æ˜ | ç”¨é€” |
|--------|------|------|
| `OSSRH_USERNAME` | Maven Central ç”¨æˆ·å | å‘å¸ƒåˆ° Maven Central |
| `OSSRH_TOKEN` | Maven Central ä»¤ç‰Œ | å‘å¸ƒåˆ° Maven Central |
| `DOCKER_USERNAME` | Docker Hub ç”¨æˆ·å | å‘å¸ƒ Docker é•œåƒ |
| `DOCKER_TOKEN` | Docker Hub ä»¤ç‰Œ | å‘å¸ƒ Docker é•œåƒ |
| `SLACK_WEBHOOK` | Slack Webhook URL | å‘é€é€šçŸ¥ |

## ğŸ“ˆ ç›‘æ§å’Œå‘Šè­¦

### æµ‹è¯•çŠ¶æ€ç›‘æ§

- æ‰€æœ‰æµ‹è¯•å¤±è´¥æ—¶ä¼šè‡ªåŠ¨åˆ›å»º Issue
- æ€§èƒ½æµ‹è¯•å¤±è´¥æ—¶ä¼šå‘é€ Slack é€šçŸ¥
- ä»£ç è´¨é‡æ£€æŸ¥å¤±è´¥æ—¶ä¼šè¯„è®º PR

### æ€§èƒ½åŸºå‡†

- å¯åŠ¨æ—¶é—´ï¼š< 5ç§’
- å†…å­˜ä½¿ç”¨ï¼š< 512MB
- å¹¶å‘å¤„ç†ï¼š> 1000 QPS
- æµ‹è¯•è¦†ç›–ç‡ï¼š> 80%

## ğŸ› ï¸ æœ¬åœ°å¼€å‘

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
mvn test

# è¿è¡Œç‰¹å®šæ¨¡å—æµ‹è¯•
mvn test -pl core

# è¿è¡Œæ€§èƒ½æµ‹è¯•
mvn test -Dtest=*PerformanceTest

# è¿è¡Œé›†æˆæµ‹è¯•
mvn verify -pl core-example
```

### ä»£ç è´¨é‡æ£€æŸ¥

```bash
# æ£€æŸ¥ä»£ç æ ¼å¼
mvn spotless:check

# ä¿®å¤ä»£ç æ ¼å¼
mvn spotless:apply

# è¿è¡Œé™æ€åˆ†æ
mvn spotbugs:check
mvn pmd:check
mvn checkstyle:check

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
mvn jacoco:report
```

### Docker å¼€å‘ç¯å¢ƒ

```bash
# å¯åŠ¨å¼€å‘ç¯å¢ƒ
docker-compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f vxcore-app

# åœæ­¢ç¯å¢ƒ
docker-compose down
```

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æµ‹è¯•å¤±è´¥**
   - æ£€æŸ¥æ•°æ®åº“è¿æ¥é…ç½®
   - ç¡®è®¤æµ‹è¯•ç¯å¢ƒå˜é‡è®¾ç½®
   - æŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—

2. **æ„å»ºå¤±è´¥**
   - æ£€æŸ¥ Maven ä¾èµ–ç‰ˆæœ¬
   - ç¡®è®¤ Java ç‰ˆæœ¬å…¼å®¹æ€§
   - æŸ¥çœ‹æ„å»ºæ—¥å¿—

3. **å‘å¸ƒå¤±è´¥**
   - æ£€æŸ¥ Maven Central å‡­æ®
   - ç¡®è®¤ç‰ˆæœ¬å·æ ¼å¼
   - æŸ¥çœ‹å‘å¸ƒæ—¥å¿—

### è°ƒè¯•æŠ€å·§

1. **æŸ¥çœ‹è¯¦ç»†æ—¥å¿—**
   ```bash
   # å¯ç”¨è°ƒè¯•æ¨¡å¼
   mvn test -X
   ```

2. **æœ¬åœ°å¤ç°é—®é¢˜**
   ```bash
   # ä½¿ç”¨ç›¸åŒçš„ç¯å¢ƒå˜é‡
   export CI=true
   export DB_TYPE=h2
   mvn test
   ```

3. **æ£€æŸ¥ä¾èµ–ç‰ˆæœ¬**
   ```bash
   # æŸ¥çœ‹ä¾èµ–æ ‘
   mvn dependency:tree
   
   # æ£€æŸ¥ä¾èµ–æ›´æ–°
   mvn versions:display-dependency-updates
   ```

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [GitHub Actions æ–‡æ¡£](https://docs.github.com/en/actions)
- [Maven æ–‡æ¡£](https://maven.apache.org/guides/)
- [Docker æ–‡æ¡£](https://docs.docker.com/)
- [VXCore é¡¹ç›®æ–‡æ¡£](../docs/)

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. åˆ›å»º Pull Request
5. ç­‰å¾… CI æ£€æŸ¥é€šè¿‡
6. ä»£ç å®¡æŸ¥
7. åˆå¹¶åˆ°ä¸»åˆ†æ”¯

---

**æ³¨æ„**ï¼šæ‰€æœ‰å·¥ä½œæµéƒ½ç»è¿‡ä¼˜åŒ–ï¼Œæ”¯æŒå¹¶è¡Œæ‰§è¡Œå’Œç¼“å­˜ï¼Œä»¥æé«˜æ„å»ºæ•ˆç‡ã€‚å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ GitHub Actions æ—¥å¿—æˆ–è”ç³»ç»´æŠ¤è€…ã€‚